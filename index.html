<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INNERLY - B·ªô s·∫£n ph·∫©m c√¢n b·∫±ng c·∫£m x√∫c h·ªçc ƒë∆∞·ªùng</title>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XEELZR1L2D"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-XEELZR1L2D');
    </script>

    <!-- Th√™m Font Awesome ƒë·ªÉ d√πng icon cho ƒë·∫πp -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Th∆∞ vi·ªán Marked.js ƒë·ªÉ convert Markdown sang HTML -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <style>

        /* --- THI·∫æT L·∫¨P C∆† B·∫¢N (RESET & VARIABLES) --- */
        :root {
            --primary-blue: #4A90E2; /* M√†u logo/h·ªôp xanh */
            --primary-yellow: #F5A623; /* M√†u h·ªôp v√†ng/nƒÉng ƒë·ªông */
            --soft-mint: #E8F5E9; /* M√†u n·ªÅn t∆∞·ªùng */
            --text-dark: #333;
            --text-light: #666;
            --white: #fff;
            --ai-bg: #F0F4F8;
            --purple-accent: #9B59B6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            line-height: 1.6;
            color: var(--text-dark);
            background-color: #f9f9f9;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* --- HEADER & NAVIGATION --- */
        header {
            background: var(--white);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
        }   

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-blue);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* T·∫°o logo gi·∫£ l·∫≠p b·∫±ng CSS n·∫øu kh√¥ng c√≥ ·∫£nh */
        .logo-placeholder {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary-blue), #81d4fa);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--text-dark);
            margin-left: 20px;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: var(--primary-blue);
        }

        .nav-links a.ai-link {
            color: var(--primary-blue);
            font-weight: bold;
            border: 2px solid var(--primary-blue);
            padding: 5px 15px;
            border-radius: 20px;
        }

        .nav-links a.ai-link:hover {
            background: var(--primary-blue);
            color: white;
        }

        /* --- HERO SECTION --- */
        .hero {
            background: linear-gradient(135deg, var(--soft-mint) 0%, #ffffff 100%);
            padding: 60px 0;
            text-align: center;
        }

        .hero h1 {
            color: var(--primary-blue);
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .hero h2 {
            font-size: 1.2rem;
            color: var(--text-light);
            font-weight: normal;
            margin-bottom: 30px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero-img-placeholder {
            width: 100%;
            max-width: 800px;
            height: 400px;
            background-color: #ddd;
            margin: 0 auto;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #888;
            overflow: hidden;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .hero-img-placeholder img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* --- MISSION SECTION --- */
        .mission {
            padding: 60px 0;
            background-color: var(--white);
        }

        .section-title {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 40px;
            color: var(--primary-blue);
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            display: inline-block;
            width: 100%;
        }

        .mission-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            align-items: center;
        }

        .mission-text p {
            margin-bottom: 15px;
            text-align: justify;
        }

        /* --- JOURNEY SECTION --- */
        .journey {
            padding: 60px 0;
            background-color: var(--soft-mint);
        }

        .journey-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .card {
            background: var(--white);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            transition: transform 0.3s;
            border-top: 5px solid var(--primary-blue);
            display: flex;
            flex-direction: column;
            
            /* C·∫¨P NH·∫¨T: CƒÉn gi·ªØa n·ªôi dung trong th·∫ª */
            text-align: center;
            align-items: center;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card:nth-child(2) { border-top-color: var(--primary-yellow); }
        .card:nth-child(3) { border-top-color: #27ae60; }
        .card:nth-child(4) { border-top-color: #e74c3c; }

        .card img {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .card h3 {
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .quote {
            font-style: italic;
            color: var(--primary-blue);
            margin-bottom: 15px;
            display: block;
            font-weight: 600;
        }

        .card-content {
            margin-top: auto;
            text-align: center; /* ƒê·∫£m b·∫£o n·ªôi dung ch·ªØ b√™n trong c≈©ng cƒÉn gi·ªØa */
        }

        .card-content strong {
            display: block;
            margin-top: 10px;
            color: var(--text-dark);
        }

        /* --- AI CHATBOT SECTION (G√≥c T√¢m S·ª±) --- */
        .ai-section {
            padding: 60px 0;
            background: linear-gradient(to right, #f8f9fa, #e9ecef);
            position: relative;
        }

        .ai-container {
            background: var(--white);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 40px;
            border: 2px solid var(--primary-blue);
            margin-bottom: 40px;
        }

        .ai-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .ai-header i {
            font-size: 3rem;
            color: var(--primary-yellow);
            margin-bottom: 15px;
        }

        .chat-box textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1rem;
            resize: none;
            transition: border-color 0.3s;
            margin-bottom: 15px;
        }

        .chat-box textarea:focus {
            outline: none;
            border-color: var(--primary-blue);
        }

        .chat-btn {
            background-color: var(--primary-blue);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 1rem;
            border-radius: 50px;
            cursor: pointer;
            transition: background 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 0 auto;
        }

        .chat-btn:hover {
            background-color: #357abd;
        }
        
        .chat-btn.secondary {
            background-color: var(--primary-yellow);
            color: #fff;
        }
        
        .chat-btn.secondary:hover {
            background-color: #e09612;
        }

        .chat-btn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        .ai-response {
            margin-top: 25px;
            padding: 20px;
            background-color: var(--soft-mint);
            border-radius: 10px;
            border-left: 4px solid var(--primary-yellow);
            display: none; /* M·∫∑c ƒë·ªãnh ·∫©n */
        }
        
        .loading-dots {
            text-align: center;
            display: none;
            margin-top: 20px;
            color: var(--primary-blue);
        }

        /* --- NEW AI FEATURES GRID --- */
        .ai-features-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        .ai-feature-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border: 1px solid #eee;
            transition: transform 0.3s;
        }
        
        .ai-feature-card:hover {
            transform: translateY(-3px);
            border-color: var(--primary-blue);
        }

        .ai-feature-card h3 {
            color: var(--primary-blue);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .input-group {
            margin-bottom: 15px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            font-size: 0.9rem;
            color: #555;
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }

        /* --- HISTORY SECTION --- */
        .history {
            padding: 60px 0;
            background-color: var(--white);
        }

        .history-content {
            background: #fdfdfd;
            padding: 30px;
            border-radius: 10px;
            border-left: 5px solid var(--primary-yellow);
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        /* --- FOOTER (S·ª¨A L·ªñI ·∫¢NH) --- */
        footer {
            background: #2c3e50;
            color: var(--white);
            padding: 50px 0;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
        }

        .footer-item h4 {
            color: var(--primary-yellow);
            margin-bottom: 20px;
            font-size: 1.2rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 10px;
            display: inline-block;
        }

        /* FIX: CSS cho ·∫£nh trong Footer */
        .footer-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 15px;
            border: 2px solid rgba(255,255,255,0.1);
            transition: transform 0.3s;
        }

        .footer-item img:hover {
            transform: scale(1.02);
            border-color: var(--primary-yellow);
        }

        /* --- RESPONSIVE --- */
        @media (max-width: 768px) {
            .mission-content, .footer-grid, .journey-grid, .ai-features-grid {
                grid-template-columns: 1fr;
            }
            .hero h1 { font-size: 1.8rem; }
            .nav-links { display: none; } /* ƒê∆°n gi·∫£n h√≥a menu mobile */
            .logo { font-size: 1.2rem; }
            .ai-container { padding: 20px; }
        }
			.chat-bubble {
	    padding: 10px 14px;
	    border-radius: 16px;
	    margin-bottom: 8px;
	    max-width: 75%;
	    font-size: 14px;
	    line-height: 1.4;
	    word-wrap: break-word;
	    overflow-wrap: break-word;
		}
	
	.chat-bubble.user {
	    background: #dbeafe;
	    margin-left: auto;
	    text-align: right;
		}
	
	.chat-bubble.bot {
	    background: #e8f5e9;
	    margin-right: auto;
	    text-align: left;
		}
	
	/* Style cho markdown content trong chat bubble */
	.chat-bubble p {
	    margin: 0.5em 0;
	}
	
	.chat-bubble p:first-child {
	    margin-top: 0;
	}
	
	.chat-bubble p:last-child {
	    margin-bottom: 0;
	}
	
	.chat-bubble ul, .chat-bubble ol {
	    margin: 0.5em 0;
	    padding-left: 1.5em;
	    list-style-position: inside;
	}
	
	.chat-bubble li {
	    margin: 0.3em 0;
	}
	
	.chat-bubble h1, .chat-bubble h2, .chat-bubble h3,
	.chat-bubble h4, .chat-bubble h5, .chat-bubble h6 {
	    margin: 0.8em 0 0.4em 0;
	    font-size: 1.1em;
	    font-weight: 600;
	}
	
	.chat-bubble code {
	    background: rgba(0,0,0,0.05);
	    padding: 2px 5px;
	    border-radius: 3px;
	    font-family: 'Courier New', monospace;
	    font-size: 0.9em;
	}
	
	.chat-bubble pre {
	    background: rgba(0,0,0,0.05);
	    padding: 10px;
	    border-radius: 5px;
	    overflow-x: auto;
	    margin: 0.5em 0;
	}
	
	.chat-bubble pre code {
	    background: none;
	    padding: 0;
	}
	
	.chat-bubble strong {
	    font-weight: 600;
	}
	
	.chat-bubble em {
	    font-style: italic;
	}
	
	.chat-bubble blockquote {
	    border-left: 3px solid var(--primary-blue);
	    padding-left: 10px;
	    margin: 0.5em 0;
	    color: #555;
	}

    </style>
</head>
<body>

    <header>
        <div class="container">
            <nav>
                <div class="logo">
					<img src="INNERLY/Logo.jpg" alt="Logo Innerly" style="height: 80px; width: auto;">
				</div>
                <div class="nav-links">
                    <a href="#">TRANG CH·ª¶</a>
                    <a href="#mission">D·ª∞ √ÅN</a>
                    <a href="#journey">H√ÄNH TR√åNH</a>
                    <a href="#ai-bot" class="ai-link">G√ìC T√ÇM S·ª∞ AI</a>
                </div>
            </nav>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <h1>INNERLY</h1>
            <h2>B·ªô s·∫£n ph·∫©m c√¢n b·∫±ng c·∫£m x√∫c h·ªçc ƒë∆∞·ªùng<br>N∆°i m·ªói c·∫£m x√∫c c·ªßa tu·ªïi teen ƒë·ªÅu ƒë∆∞·ª£c tr√¢n tr·ªçng v√† l·∫Øng nghe</h2>
           
            <div class="hero-img-placeholder">
                <img src="INNERLY/Anh mo dau.png" alt="H·ªçc sinh tr·∫£i nghi·ªám Innerly">
            </div>
        </div>
    </section>

    <section id="mission" class="mission">
        <div class="container">
            <h2 class="section-title">Nhi·ªám V·ª• C·ªßa D·ª± √Ån</h2>
            <div class="mission-content">
                <div class="mission-text">
                    <p><strong>INNERLY</strong> ra ƒë·ªùi ƒë·ªÉ ƒë·ªìng h√†nh c√πng tu·ªïi teen trong nh·ªØng chuy·ªÉn ƒë·ªông c·∫£m x√∫c th∆∞·ªùng nh·∫≠t c·ªßa ƒë·ªùi s·ªëng h·ªçc ƒë∆∞·ªùng ‚Äì khi c·∫£m x√∫c c√≤n m∆° h·ªì nh∆∞ng ƒë·ªß m·∫°nh ƒë·ªÉ ·∫£nh h∆∞·ªüng ƒë·∫øn c√°ch c√°c em nghƒ©, c·∫£m nh·∫≠n v√† l·ªõn l√™n.</p>
                    <p>Th√¥ng qua nh·ªØng c√¥ng c·ª• nh·ªè, g·∫ßn g≈©i v√† d·ªÖ ti·∫øp c·∫≠n, INNERLY m·ªü ra m·ªôt c√°ch nh·∫π nh√†ng ƒë·ªÉ teen nh·∫≠n di·ªán c·∫£m x√∫c, gi·∫£i t·ªèa an to√†n v√† d·∫ßn t√¨m l·∫°i s·ª± c√¢n b·∫±ng m·ªói ng√†y.</p>
                </div>
                <div class="mission-text">
                    <p>Ch√∫ng t√¥i tin r·∫±ng chƒÉm s√≥c s·ª©c kh·ªèe tinh th·∫ßn b·∫Øt ƒë·∫ßu t·ª´ vi·ªác ƒë∆∞·ª£c l·∫Øng nghe v√† t√¥n tr·ªçng trong m·ªôt kh√¥ng gian kh√¥ng ph√°n x√©t.</p>
                    <p>Khi m·ªói tr·∫£i nghi·ªám c√° nh√¢n ƒë∆∞·ª£c nh√¨n nh·∫≠n ƒë√∫ng gi√° tr·ªã, s·ª± th·∫•u c·∫£m s·∫Ω lan t·ªèa, k·∫øt n·ªëi ƒë∆∞·ª£c h√¨nh th√†nh v√† m·ªôt c·ªông ƒë·ªìng an to√†n, b·ªÅn v·ªØng d·∫ßn l·ªõn l√™n c√πng nhau.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="journey" class="journey">
        <div class="container">
            <h2 class="section-title">üåà H√†nh Tr√¨nh C·∫£m X√∫c C√πng Innerly</h2>
            
            <div class="journey-grid">
                <div class="card">
                    <h3>1. CH·∫†M</h3>
                    <!-- ·∫¢nh Unsplash thay th·∫ø -->
                    <img src="INNERLY/1. Cham.png" alt="Ho·∫°t ƒë·ªông Ch·∫°m">
                    <span class="quote">‚ÄúM√¨nh ƒëang c·∫£m th·∫•y g√¨ v·∫≠y?‚Äù</span>
                    <div class="card-content">
                        <p><strong>Ho·∫°t ƒë·ªông:</strong> Teen ch·ªçn th·∫ª c·∫£m x√∫c, vi·∫øt ra suy nghƒ© b·∫±ng gi·∫•y stick v√† b√∫t ch√¨ c·ªßa INNERLY ‚Äì ch·ªâ ƒë·ªÉ hi·ªÉu m√¨nh h∆°n.</p>
                        <p><strong>V√¨ sao quan tr·ªçng?</strong> Khi c·∫£m x√∫c ƒë∆∞·ª£c g·ªçi t√™n, teen kh√¥ng c√≤n th·∫•y m√¨nh l·∫°c l√µng.</p>
                    </div>
                </div>

                <div class="card">
                    <h3>2. GI·∫¢I T·ªéA</h3>
                    <img src="INNERLY/2. Giai toa.png" alt="Ho·∫°t ƒë·ªông Gi·∫£i t·ªèa">
                    <span class="quote">‚ÄúM√¨nh kh√¥ng c·∫ßn gi·ªØ t·∫•t c·∫£ trong l√≤ng.‚Äù</span>
                    <div class="card-content">
                        <p><strong>Ho·∫°t ƒë·ªông:</strong> Vi·∫øt ƒëi·ªÅu ƒëang n·∫∑ng l√≤ng v√† ƒë·∫∑t v√†o H·ªôp ghi c·∫£m x√∫c. Stress ball v√† k·∫πo nh·ªè gi√∫p c∆° th·ªÉ d·ªãu l·∫°i.</p>
                        <p><strong>V√¨ sao quan tr·ªçng?</strong> Gi·∫£i t·ªèa ƒë√∫ng c√°ch gi√∫p c·∫£m x√∫c kh√¥ng b·ªã d·ªìn n√©n.</p>
                    </div>
                </div>

                <div class="card">
                    <h3>3. ·ªîN ƒê·ªäNH</h3>
                    <img src="INNERLY/3. On dinh.png" alt="Ho·∫°t ƒë·ªông ·ªîn ƒë·ªãnh">
                    <span class="quote">‚ÄúM√¨nh ƒëang d·∫ßn ·ªïn h∆°n r·ªìi.‚Äù</span>
                    <div class="card-content">
                        <p><strong>Ho·∫°t ƒë·ªông:</strong> Teen nh√¨n l·∫°i c·∫£m x√∫c ƒë√£ vi·∫øt, s·∫Øp x·∫øp l·∫°i suy nghƒ© v√† ƒë∆∞·ª£c d·∫´n d·∫Øt nh·∫π nh√†ng qua landing page.</p>
                        <p><strong>V√¨ sao quan tr·ªçng?</strong> Khi c·∫£m x√∫c ·ªïn ƒë·ªãnh, teen d·ªÖ t·∫≠p trung v√† an to√†n h∆°n.</p>
                    </div>
                </div>

                <div class="card">
                    <h3>4. PH√ÅT TRI·ªÇN</h3>
					<img src="INNERLY/4. Phat trien.png" alt="Ho·∫°t ƒë·ªông Ph√°t tri·ªÉn">
                    <span class="quote">‚ÄúM√¨nh h·ªçc c√°ch chƒÉm s√≥c c·∫£m x√∫c m·ªói ng√†y.‚Äù</span>
                    <div class="card-content">
                        <p><strong>Ho·∫°t ƒë·ªông:</strong> H√¨nh th√†nh th√≥i quen vi·∫øt ‚Äì gi·∫£i t·ªèa ‚Äì t·ª± xoa d·ªãu v√† k·∫øt n·ªëi v·ªõi c·ªông ƒë·ªìng.</p>
                        <p><strong>V√¨ sao quan tr·ªçng?</strong> N·ªÅn t·∫£ng ƒë·ªÉ teen t·ª± tin, tr∆∞·ªüng th√†nh.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- NEW SECTION: AI CHATBOT & TOOLS -->
    <section id="ai-bot" class="ai-section">
        <div class="container">
            <!-- 1. MAIN CHATBOT -->
            <div class="ai-container">
                <div class="ai-header">
                    <i class="fas fa-robot"></i>
                    <h2 style="color: var(--primary-blue);">G√≥c T√¢m S·ª± INNERLY AI</h2>
                    <p style="color: var(--text-light);">B·∫°n c√≥ t√¢m s·ª± g√¨ kh√¥ng? H√£y chia s·∫ª v·ªõi Innerly nh√©, m√¨nh ·ªü ƒë√¢y ƒë·ªÉ l·∫Øng nghe b·∫°n.</p>
                </div>
                
                <div class="chat-box">
					<div id="chatBox" class="chat-box"></div>
                    <textarea id="userInput" rows="4" placeholder="V√≠ d·ª•: M√¨nh c·∫£m th·∫•y h∆°i √°p l·ª±c v√¨ b√†i ki·ªÉm tra ng√†y mai..."></textarea>
                    <button onclick="askGemini()" id="sendBtn" class="chat-btn">
                        <i class="fas fa-paper-plane"></i> G·ª≠i t√¢m s·ª±
                    </button>
                </div>
				
                <div id="loading" class="loading-dots">
                    <i class="fas fa-circle-notch fa-spin"></i> Innerly ƒëang suy nghƒ©...
                </div>

                <div id="responseArea" class="ai-response">
                    <h4 style="color: var(--primary-blue); margin-bottom: 10px;">Innerly nh·∫Øn b·∫°n:</h4>
                    <p id="responseText" style="white-space: pre-line;"></p>
                </div>
            </div>

            <!-- 2. AI MINI TOOLS -->
            <div class="ai-features-grid">
                <!-- Tool 1: T·ª´ ƒêi·ªÉn C·∫£m X√∫c -->
                <div class="ai-feature-card">
                    <h3><i class="fas fa-book-open"></i> T·ª´ ƒêi·ªÉn C·∫£m X√∫c ‚ú®</h3>
                    <p class="text-sm mb-4" style="color:#666; font-size:0.9rem;">C·∫£m x√∫c c·ªßa b·∫°n kh√≥ g·ªçi t√™n? H√£y m√¥ t·∫£ n√≥, AI s·∫Ω ƒë·∫∑t cho b·∫°n m·ªôt c√°i t√™n th·∫≠t hay.</p>
                    
                    <div class="input-group">
                        <input type="text" id="emotionDesc" placeholder="VD: V·ª´a vui m√† l·∫°i v·ª´a lo...">
                    </div>
                    
                    <button onclick="defineEmotion()" id="btnDefine" class="chat-btn secondary" style="width:100%; justify-content:center;">
                        <i class="fas fa-magic"></i> ƒê·∫∑t t√™n c·∫£m x√∫c
                    </button>

                    <div id="resultDefine" class="mt-4 hidden" style="margin-top:15px; background:#f0f8ff; padding:15px; border-radius:8px; display:none;">
                        <strong id="emotionTitle" style="color:var(--primary-blue); display:block; font-size:1.1rem;"></strong>
                        <p id="emotionDef" style="font-size:0.9rem; margin-top:5px;"></p>
                    </div>
                </div>

                <!-- Tool 2: G·ª£i √ù Ho·∫°t ƒê·ªông -->
                <div class="ai-feature-card">
                    <h3><i class="fas fa-lightbulb"></i> G·ª£i √ù Gi·∫£i T·ªèa ‚ú®</h3>
                    <p class="text-sm mb-4" style="color:#666; font-size:0.9rem;">B·∫°n ƒëang c·∫£m th·∫•y th·∫ø n√†o? Innerly s·∫Ω g·ª£i √Ω m·ªôt vi·ªác l√†m nh·ªè ƒë·ªÉ b·∫°n th·∫•y kh√° h∆°n.</p>
                    
                    <div class="input-group">
                        <select id="moodSelect">
                            <option value="CƒÉng th·∫≥ng">CƒÉng th·∫≥ng / Stress</option>
                            <option value="Bu·ªìn ch√°n">Bu·ªìn ch√°n / Tr·ªëng r·ªóng</option>
                            <option value="T·ª©c gi·∫≠n">T·ª©c gi·∫≠n / B·ª±c b·ªôi</option>
                            <option value="Lo l·∫Øng">Lo l·∫Øng / H·ªìi h·ªôp</option>
                            <option value="M·ªát m·ªèi">M·ªát m·ªèi / C·∫°n nƒÉng l∆∞·ª£ng</option>
                        </select>
                    </div>
                    
                    <button onclick="suggestActivity()" id="btnSuggest" class="chat-btn secondary" style="width:100%; justify-content:center;">
                        <i class="fas fa-hand-sparkles"></i> T√¨m ho·∫°t ƒë·ªông
                    </button>

                    <div id="resultSuggest" class="mt-4 hidden" style="margin-top:15px; background:#fff8e1; padding:15px; border-radius:8px; display:none;">
                        <strong style="color:var(--primary-yellow); display:block;">üí° G·ª£i √Ω cho b·∫°n:</strong>
                        <p id="activityText" style="font-size:0.9rem; margin-top:5px;"></p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="history">
        <div class="container">
            <h2 class="section-title">C√¢u Chuy·ªán C·ªßa Ch√∫ng T√¥i</h2>
            <div class="history-content">
                <h3>L·ªãch S·ª≠</h3>
                <p>INNERLY l√† m·ªôt b·ªô s·∫£n ph·∫©m gi√∫p t·ª•i m√¨nh hi·ªÉu c·∫£m x√∫c c·ªßa ch√≠nh m√¨nh h∆°n, nh·∫•t l√† nh·ªØng l√∫c √°p l·ª±c h·ªçc h√†nh hay r·ªëi b·ªùi kh√¥ng bi·∫øt n√≥i v·ªõi ai. Ch·ªâ t·ª´ nh·ªØng c√¥ng c·ª• r·∫•t nh·ªè, INNERLY gi√∫p x·∫£ b·ªõt c·∫£m x√∫c, b√¨nh tƒ©nh l·∫°i v√† c·∫£m th·∫•y m√¨nh kh√¥ng h·ªÅ c√¥ ƒë∆°n trong qu√° tr√¨nh l·ªõn l√™n.</p>
                
                <h3 style="margin-top: 20px;">Th√†nh t·ª±u hi·ªán t·∫°i</h3>
                <p>T·ª´ nh·ªØng √Ω t∆∞·ªüng r·∫•t nh·ªè xoay quanh c·∫£m x√∫c h·ªçc ƒë∆∞·ªùng, INNERLY ƒë√£ d·∫ßn h√¨nh th√†nh m·ªôt b·ªô s·∫£n ph·∫©m ho√†n ch·ªânh, ƒë∆∞·ª£c thi·∫øt k·∫ø ri√™ng cho tu·ªïi teen. Ch√∫ng t√¥i ƒë√£ x√¢y d·ª±ng th√†nh c√¥ng b·ªô s·∫£n ph·∫©m c√¢n b·∫±ng c·∫£m x√∫c h·ªçc ƒë∆∞·ªùng INNERLY, bao g·ªìm landing page, h·ªôp ghi c·∫£m x√∫c, b·ªô th·∫ª c·∫£m x√∫c, stress ball v√† c√°c v·∫≠t d·ª•ng h·ªó tr·ª£ ƒëi k√®m.</p>
                <p style="margin-top: 10px;"><em>"Quan tr·ªçng h∆°n c·∫£, INNERLY kh√¥ng ch·ªâ l√† m·ªôt b·ªô s·∫£n ph·∫©m, m√† ƒëang d·∫ßn tr·ªü th√†nh m·ªôt kh√¥ng gian tinh th·∫ßn an to√†n, n∆°i c·∫£m x√∫c c·ªßa tu·ªïi teen ƒë∆∞·ª£c nh√¨n nh·∫≠n nghi√™m t√∫c v√† t√¥n tr·ªçng."</em></p>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-item">
                    <h4>INNERLY trong ƒë·ªùi s·ªëng h·ªçc ƒë∆∞·ªùng</h4>
                    <!-- FIX ·∫¢NH: ƒê·ªùi s·ªëng -->
                    <img src="INNERLY/Doi song.png" alt="ƒê·ªùi s·ªëng h·ªçc ƒë∆∞·ªùng">
                    <p>Nh·ªØng c√¥ng c·ª• nh·ªè gi√∫p tu·ªïi teen ch·∫°m v√†o c·∫£m x√∫c c·ªßa m√¨nh, gi·∫£i t·ªèa nh·∫π nh√†ng v√† c·∫£m th·∫•y kh√¥ng c√≤n m·ªôt m√¨nh trong qu√° tr√¨nh l·ªõn l√™n.</p>
                </div>
                <div class="footer-item">
                    <h4>B·ªô s·∫£n ph·∫©m INNERLY</h4>
                    <!-- FIX ·∫¢NH: S·∫£n ph·∫©m -->
                    <img src="INNERLY/San pham.png" alt="B·ªô s·∫£n ph·∫©m">
                    <p>ƒê∆∞·ª£c thi·∫øt k·∫ø g·∫ßn g≈©i, d·ªÖ s·ª≠ d·ª•ng m·ªói ng√†y ‚Äì ƒë·ªìng h√†nh c√πng tu·ªïi teen trong h√†nh tr√¨nh hi·ªÉu c·∫£m x√∫c v√† c√¢n b·∫±ng tinh th·∫ßn t·ª´ nh·ªØng ƒëi·ªÅu r·∫•t nh·ªè.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- SCRIPT G·ªåI API GEMINI -->
    <script>
		const apiUrl = "https://innerly.hnue.online/core.php/";

	let conversationHistory = [];
	
	// ===== SMART RESPONSE PARSER =====
	function extractText(data) {
	  if (!data) return null;
		if (typeof data === "string") return data;
		if (data.reply) return data.reply; // Kh·ªõp v·ªõi Worker
	  if (data.text) return data.text;
	  if (data.response) return data.response;
	  if (data.output) return data.output;
	
	  // Gemini-style
	  if (data.candidates?.[0]?.content?.parts?.[0]?.text) {
	    return data.candidates[0].content.parts[0].text;
	  }
	
	  return null;
	}
	
	async function callAI(prompt) {
	  try {
	    const res = await fetch(apiUrl, {
	      method: "POST",
	      headers: { "Content-Type": "application/json" },
	      body: JSON.stringify({
	        prompt: prompt,
	        history: conversationHistory
	      })
	    });
	
	    const data = await res.json();
	    const text = extractText(data);
	
	    return text || "Innerly ƒëang suy nghƒ© th√™m m·ªôt ch√∫t nh√© üíõ";
	  } catch (err) {
	    console.error("AI ERROR:", err);
	    return "Innerly kh√¥ng k·∫øt n·ªëi ƒë∆∞·ª£c l√∫c n√†y, nh∆∞ng m√¨nh v·∫´n ·ªü ƒë√¢y v·ªõi b·∫°n üíõ";
	  }
	}
	
	async function askGemini() {
	  const input = document.getElementById("userInput");
	  const chatBox = document.getElementById("chatBox");
	  const loading = document.getElementById("loading");
	  const btn = document.getElementById("sendBtn");
	
	  const text = input.value.trim();
	  if (!text) return alert("B·∫°n h√£y vi·∫øt g√¨ ƒë√≥ nh√©!");
	
	  const userBubble = document.createElement("div");
	  userBubble.className = "chat-bubble user";
	  userBubble.innerText = text;
	  chatBox.appendChild(userBubble);
	
	  conversationHistory.push({ role: "user", text });
	  input.value = "";
	
	  loading.style.display = "block";
	  btn.disabled = true;
	
	  const reply = await callAI(text);
	
	  const botBubble = document.createElement("div");
	  botBubble.className = "chat-bubble bot";
	  // Convert markdown sang HTML
	  botBubble.innerHTML = marked.parse(reply);
	  chatBox.appendChild(botBubble);
	
	  conversationHistory.push({ role: "assistant", text: reply });
	  chatBox.scrollTop = chatBox.scrollHeight;
	
	  loading.style.display = "none";
	  btn.disabled = false;
	}
	
	// ===== FEATURES =====
	async function defineEmotion() {
	  const input = document.getElementById("emotionDesc").value.trim();
	  const box = document.getElementById("resultDefine");
	  const title = document.getElementById("emotionTitle");
	  const def = document.getElementById("emotionDef");
	
	  if (!input) return alert("H√£y m√¥ t·∫£ c·∫£m x√∫c c·ªßa b·∫°n nh√©!");
	
	  const prompt = `T·∫°o t√™n c·∫£m x√∫c v√† ƒë·ªãnh nghƒ©a ng·∫Øn cho m√¥ t·∫£ sau:\n${input}\nƒê·ªãnh d·∫°ng: T√™n | ƒê·ªãnh nghƒ©a`;
	
	  const reply = await callAI(prompt);
	  const parts = reply.split("|");

	  title.innerText = (parts[0] || "C·∫£m x√∫c ƒë·∫∑c bi·ªát").trim();
	  // Convert markdown sang HTML
	  def.innerHTML = marked.parse((parts[1] || reply).trim());
	  box.style.display = "block";
	}
	
	async function suggestActivity() {
	  const mood = document.getElementById("moodSelect").value;
	  const box = document.getElementById("resultSuggest");
	  const text = document.getElementById("activityText");
	
	  const prompt = `G·ª£i √Ω 1 ho·∫°t ƒë·ªông nh·ªè trong 5 ph√∫t ƒë·ªÉ gi√∫p h·ªçc sinh c·∫£m th·∫•y t·ªët h∆°n khi ƒëang ${mood}.`;

	  const reply = await callAI(prompt);
	  // Convert markdown sang HTML
	  text.innerHTML = marked.parse(reply);
	  box.style.display = "block";
	}
	
	// ENTER TO SEND
	document.getElementById("userInput").addEventListener("keydown", e => {
	  if (e.key === "Enter" && !e.shiftKey) {
	    e.preventDefault();
	    askGemini();
	  }
	});
</script>

</body>
</html>
