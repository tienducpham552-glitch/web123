<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INNERLY | Premium Emotional Balance</title>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XEELZR1L2D"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-XEELZR1L2D');
    </script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Plus+Jakarta+Sans:wght@700;800&display=swap" rel="stylesheet">
    
    <!-- Icons & Markdown -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <style>
        :root {
            --p-blue: #3B82F6;
            --p-blue-soft: #eff6ff;
            --p-yellow: #F59E0B;
            --p-yellow-soft: #fffbeb;
            --p-green: #10B981;
            --p-green-soft: #ecfdf5;
            --p-red: #EF4444;
            --p-red-soft: #fef2f2;
            --slate-50: #F8FAFC;
            --slate-100: #F1F5F9;
            --slate-800: #1E293B;
            --slate-900: #0F172A;
            --white: #ffffff;
            --shadow-p: 0 20px 25px -5px rgba(0, 0, 0, 0.05), 0 8px 10px -6px rgba(0, 0, 0, 0.05);
            --radius-lg: 32px;
            --radius-md: 20px;
        }

        /* --- BASIC RESET --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: var(--white); 
            color: var(--slate-800);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        h1, h2, h3, .logo span { font-family: 'Plus Jakarta Sans', sans-serif; }
        .container { width: 100%; max-width: 1240px; margin: 0 auto; padding: 0 2rem; }

        /* --- PAGE TOGGLE LOGIC --- */
        #landing-page, #chat-page { display: none; }
        #landing-page.active, #chat-page.active { display: block; }

        /* --- LANDING PAGE STYLES --- */
        header {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-bottom: 1px solid rgba(0,0,0,0.05);
            padding: 0.8rem 0;
            position: sticky;
            top: 0;
            z-index: 2000;
        }
        nav { display: flex; justify-content: space-between; align-items: center; }
        .logo { display: flex; align-items: center; gap: 12px; text-decoration: none; color: var(--slate-900); font-weight: 800; font-size: 1.4rem; }
        .logo img { height: 65px; width: auto; object-fit: contain; }

        .nav-menu { display: flex; align-items: center; gap: 2.5rem; }
        .nav-link { text-decoration: none; color: var(--slate-800); font-weight: 600; font-size: 0.95rem; transition: 0.3s; cursor: pointer; }
        .nav-link:hover { color: var(--p-blue); }

        .btn-cta {
            background: var(--slate-900);
            color: var(--white) !important;
            padding: 0.75rem 1.75rem;
            border-radius: 12px;
            font-weight: 700;
            transition: 0.3s;
            border: none;
            cursor: pointer;
        }
        .btn-cta:hover { background: var(--p-blue); transform: translateY(-2px); box-shadow: 0 10px 20px rgba(59, 130, 246, 0.3); }

        .hero { padding: 6rem 0; text-align: center; background: radial-gradient(circle at top, #f0f7ff, transparent); }
        .hero h1 { font-size: clamp(2.5rem, 8vw, 4.5rem); font-weight: 800; margin-bottom: 1.5rem; letter-spacing: -2px; line-height: 1.1; }
        .hero h1 span { color: var(--p-blue); }
        .hero p { font-size: 1.25rem; color: #64748B; max-width: 800px; margin: 0 auto 3.5rem; line-height: 1.8; }
        .hero-visual { width: 100%; max-width: 1000px; margin: 0 auto; border-radius: var(--radius-lg); overflow: hidden; box-shadow: var(--shadow-p); border: 10px solid white; background: #e2e8f0; }
        .hero-visual img { width: 100%; height: auto; display: block; object-fit: cover; }

        .journey { padding: 8rem 0; background: #fff; position: relative; }
        .section-header { text-align: center; margin-bottom: 5rem; }
        .section-header h2 { font-size: 3rem; letter-spacing: -1.5px; margin-bottom: 0.8rem; font-weight: 800; }
        .section-header .sub-badge { 
            display: inline-block;
            background: var(--p-blue-soft);
            color: var(--p-blue);
            padding: 0.5rem 1.2rem;
            border-radius: 99px;
            font-size: 0.85rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 1rem;
        }
        .journey-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 2rem; }
        .j-card {
            background: var(--white);
            border-radius: 28px;
            padding: 3rem 1.5rem;
            text-align: center;
            border: 1px solid rgba(0,0,0,0.03);
            transition: 0.5s;
            display: flex;
            flex-direction: column;
            box-shadow: 0 10px 30px -10px rgba(0,0,0,0.05);
        }
        .j-card:hover { transform: translateY(-15px); }
        .step-1 { --accent-color: var(--p-blue); --accent-shadow: rgba(59, 130, 246, 0.3); --accent-bg: var(--p-blue-soft); }
        .step-2 { --accent-color: var(--p-yellow); --accent-shadow: rgba(245, 158, 11, 0.3); --accent-bg: var(--p-yellow-soft); }
        .step-3 { --accent-color: var(--p-green); --accent-shadow: rgba(16, 185, 129, 0.3); --accent-bg: var(--p-green-soft); }
        .step-4 { --accent-color: var(--p-red); --accent-shadow: rgba(239, 68, 68, 0.3); --accent-bg: var(--p-red-soft); }
        .step-badge { width: 50px; height: 50px; background: var(--accent-bg); color: var(--accent-color); border-radius: 16px; display: flex; align-items: center; justify-content: center; margin: 0 auto 2rem; font-weight: 800; font-size: 1.2rem; }
        .j-card img { width: 100%; height: 180px; object-fit: cover; border-radius: 18px; margin-bottom: 2rem; box-shadow: var(--shadow-p); background: #eee; }
        .j-card h3 { font-size: 1.5rem; margin-bottom: 0.8rem; font-weight: 800; }
        .j-card .quote { font-weight: 700; color: var(--accent-color); font-style: italic; margin-bottom: 1.5rem; min-height: 3rem; display: flex; align-items: center; justify-content: center; font-size: 0.95rem; line-height: 1.4; }
        .j-card p { font-size: 0.9rem; line-height: 1.6; color: #475569; }

        .mission { padding: 8rem 0; overflow: hidden; background: #fff; }
        .mission-grid { display: grid; grid-template-columns: 1fr 1.2fr; gap: 5rem; align-items: center; }
        .mission-img { border-radius: var(--radius-lg); box-shadow: var(--shadow-p); width: 100%; height: 450px; object-fit: cover; background: #e2e8f0; }
        .mission-text h2 { font-size: 2.8rem; margin-bottom: 1.8rem; line-height: 1.2; font-weight: 800; color: var(--p-blue); }
        .mission-text p { font-size: 1.15rem; line-height: 1.8; margin-bottom: 1.5rem; color: #475569; }

        .ai-section-landing { 
            padding: 8rem 0; 
            background: #050810; 
            color: white; 
            border-radius: 60px 60px 0 0; 
            position: relative;
        }
        .ai-header-landing { text-align: center; margin-bottom: 4rem; }
        .ai-header-landing h2 { font-size: 3rem; margin-bottom: 1rem; font-weight: 800; }
        .tool-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; max-width: 1000px; margin: 0 auto; }
        .tool-box { background: rgba(255, 255, 255, 0.03); padding: 3rem; border-radius: 40px; border: 1px solid rgba(255, 255, 255, 0.08); transition: 0.3s; }
        .tool-box:hover { border-color: rgba(59, 130, 246, 0.5); }
        .tool-box h3 { margin-bottom: 1.5rem; color: #fff; font-size: 1.4rem; display: flex; align-items: center; gap: 15px; }
        .tool-box i { color: var(--p-blue); }
        .tool-box.yellow i { color: var(--p-yellow); }
        .ai-input-wrapper input, .ai-input-wrapper select { width: 100%; padding: 1rem; border-radius: 12px; border: 1px solid rgba(255,255,255,0.1); background: rgba(0,0,0,0.3); color: white; margin-bottom: 1.5rem; outline: none; transition: 0.3s; }
        .ai-input-wrapper input:focus, .ai-input-wrapper select:focus { border-color: var(--p-blue); }
        .btn-ai-run { width: 100%; padding: 1rem; border-radius: 12px; border: none; background: var(--p-blue); color: white; font-weight: 800; cursor: pointer; transition: 0.3s; }
        .btn-ai-run:hover { filter: brightness(1.2); transform: scale(1.02); }
        
        /* Relief Plan Styling */
        .ai-result-panel { 
            margin-top: 2rem; 
            padding: 2rem; 
            background: rgba(255, 255, 255, 0.05); 
            border-radius: 24px; 
            border-left: 4px solid var(--p-blue); 
            display: none; 
            animation: slideUp 0.5s ease;
        }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } }
        
        .activity-card { display: flex; flex-direction: column; gap: 1.5rem; }
        .activity-card h4 { color: var(--p-blue); font-size: 1.2rem; margin-bottom: 0.5rem; }
        .activity-card.yellow h4 { color: var(--p-yellow); }
        .activity-card .section-title { font-weight: 700; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; color: rgba(255,255,255,0.4); margin-bottom: 0.5rem; }
        .activity-card .content { font-size: 0.95rem; line-height: 1.6; color: #cbd5e1; }

        /* --- CHAT PAGE STYLES --- */
        #chat-page { background: #f0f4f8; height: 100vh; display: flex; flex-direction: column; }
        .chat-header { background: #fff; padding: 1rem 2rem; display: flex; align-items: center; justify-content: space-between; box-shadow: 0 2px 5px rgba(0,0,0,0.05); z-index: 100; }
        .chat-header h2 { color: var(--p-blue); font-size: 1.2rem; display: flex; align-items: center; gap: 10px; }
        .back-btn { background: none; border: none; color: #64748B; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 8px; font-size: 1rem; }
        .back-btn:hover { color: var(--p-blue); }

        .chat-container { flex: 1; max-width: 900px; width: 100%; margin: 2rem auto; background: #fff; border-radius: 24px; box-shadow: var(--shadow-p); display: flex; flex-direction: column; overflow: hidden; }
        #chatBox { flex: 1; padding: 2rem; overflow-y: auto; display: flex; flex-direction: column; gap: 1rem; background-image: radial-gradient(#e8f5e9 1px, transparent 1px); background-size: 20px 20px; }
        .bubble { max-width: 75%; padding: 12px 18px; border-radius: 20px; line-height: 1.5; font-size: 1rem; animation: fadeIn 0.3s ease; }
        .user-bubble { background: var(--p-blue); color: white; align-self: flex-end; border-bottom-right-radius: 4px; box-shadow: 0 4px 10px rgba(59, 130, 246, 0.2); }
        .ai-bubble { background: #fff; color: #333; align-self: flex-start; border-bottom-left-radius: 4px; border: 1px solid #eee; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }

        .input-area { padding: 1.5rem; background: #fff; border-top: 1px solid #eee; display: flex; gap: 1rem; }
        #chatInput { flex: 1; padding: 1rem 1.5rem; border: 1px solid #ddd; border-radius: 30px; outline: none; font-size: 1rem; background: #f9f9f9; transition: 0.3s; }
        #chatInput:focus { border-color: var(--p-blue); background: #fff; }
        #sendBtnChat { width: 50px; height: 50px; border-radius: 50%; background: var(--p-blue); color: white; border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; transition: 0.2s; box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3); }
        #sendBtnChat:hover { transform: scale(1.05); filter: brightness(1.1); }
        #sendBtnChat:disabled { background: #ccc; cursor: not-allowed; transform: none; box-shadow: none; }

        /* --- FOOTER --- */
        footer { background: #070b14; color: #94A3B8; padding: 8rem 0 3rem; }
        .footer-grid { display: grid; grid-template-columns: 1.5fr 1fr 1fr; gap: 5rem; }
        .footer-item h4 { color: white; margin-bottom: 1.5rem; font-size: 1.2rem; font-weight: 800; }
        .footer-item img { border-radius: 20px; margin-bottom: 1.5rem; width: 100%; height: 200px; object-fit: cover; background: #1e293b; }

        @media (max-width: 1024px) {
            .journey-grid { grid-template-columns: repeat(2, 1fr); }
            .mission-grid, .footer-grid, .tool-grid { grid-template-columns: 1fr; }
            .chat-container { margin: 0; border-radius: 0; }
        }
    </style>
</head>
<body>

    <!-- SECTION 1: LANDING PAGE -->
    <div id="landing-page" class="active">
        <header>
            <div class="container">
                <nav>
                    <a onclick="showPage('landing')" class="logo">
                        <img src="INNERLY/Logo.jpg" alt="Logo Innerly">
                        <span>INNERLY</span>
                    </a>
                    <div class="nav-menu">
                        <a onclick="showPage('landing')" class="nav-link">TRANG CH·ª¶</a>
                        <a href="#mission" class="nav-link">D·ª∞ √ÅN</a>
                        <a href="#journey" class="nav-link">H√ÄNH TR√åNH</a>
                        <button onclick="showPage('chat')" class="btn-cta">G√ìC T√ÇM S·ª∞ AI</button>
                    </div>
                </nav>
            </div>
        </header>

        <section class="hero" id="top">
            <div class="container">
                <h1>INNERLY</h1>
                <p>B·ªô s·∫£n ph·∫©m c√¢n b·∫±ng c·∫£m x√∫c h·ªçc ƒë∆∞·ªùng<br>N∆°i m·ªói c·∫£m x√∫c c·ªßa tu·ªïi teen ƒë·ªÅu ƒë∆∞·ª£c tr√¢n tr·ªçng v√† l·∫Øng nghe</p>
                <div class="hero-visual">
                    <img src="INNERLY/Anh mo dau.png" alt="H·ªçc sinh tr·∫£i nghi·ªám Innerly">
                </div>
            </div>
        </section>

        <section id="mission" class="mission">
            <div class="container">
                <div class="mission-grid">
                    <div class="mission-text">
                        <h2>Nhi·ªám V·ª• C·ªßa D·ª± √Ån</h2>
                        <p><strong>INNERLY</strong> ra ƒë·ªùi ƒë·ªÉ ƒë·ªìng h√†nh c√πng tu·ªïi teen trong nh·ªØng chuy·ªÉn ƒë·ªông c·∫£m x√∫c th∆∞·ªùng nh·∫≠t c·ªßa ƒë·ªùi s·ªëng h·ªçc ƒë∆∞·ªùng ‚Äì khi c·∫£m x√∫c c√≤n m∆° h·ªì nh∆∞ng ƒë·ªß m·∫°nh ƒë·ªÉ ·∫£nh h∆∞·ªüng ƒë·∫øn c√°ch c√°c em nghƒ©, c·∫£m nh·∫≠n v√† l·ªõn l√™n.</p>
                        <p>Th√¥ng qua nh·ªØng c√¥ng c·ª• nh·ªè, g·∫ßn g≈©i v√† d·ªÖ ti·∫øp c·∫≠n, INNERLY m·ªü ra m·ªôt c√°ch nh·∫π nh√†ng ƒë·ªÉ teen nh·∫≠n di·ªán c·∫£m x√∫c, gi·∫£i t·ªèa an to√†n v√† d·∫ßn t√¨m l·∫°i s·ª± c√¢n b·∫±ng m·ªói ng√†y.</p>
                        <p>Ch√∫ng t√¥i tin r·∫±ng chƒÉm s√≥c s·ª©c kh·ªèe tinh th·∫ßn b·∫Øt ƒë·∫ßu t·ª´ vi·ªác ƒë∆∞·ª£c l·∫Øng nghe v√† t√¥n tr·ªçng trong m·ªôt kh√¥ng gian kh√¥ng ph√°n x√©t.</p>
                    </div>
                    <img src="INNERLY/San pham.png" alt="S·∫£n ph·∫©m" class="mission-img">
                </div>
            </div>
        </section>

        <section id="journey" class="journey">
            <div class="container">
                <div class="section-header">
                    <span class="sub-badge">H√†nh Tr√¨nh</span>
                    <h2>Rainbow Journey c√πng Innerly</h2>
                </div>
                
                <div class="journey-grid">
                    <div class="j-card step-1">
                        <div class="step-badge">01</div>
                        <img src="INNERLY/1. Cham.png" alt="Ch·∫°m">
                        <h3>CH·∫†M</h3>
                        <div class="quote">‚ÄúM√¨nh ƒëang c·∫£m th·∫•y g√¨ v·∫≠y?‚Äù</div>
                        <p>Teen ch·ªçn th·∫ª c·∫£m x√∫c, vi·∫øt ra suy nghƒ© b·∫±ng gi·∫•y stick ƒë·ªÉ hi·ªÉu m√¨nh h∆°n. Khi c·∫£m x√∫c ƒë∆∞·ª£c g·ªçi t√™n, teen kh√¥ng c√≤n l·∫°c l√µng.</p>
                    </div>
                    <div class="j-card step-2">
                        <div class="step-badge">02</div>
                        <img src="INNERLY/2. Giai toa.png" alt="Gi·∫£i T·ªèa">
                        <h3>GI·∫¢I T·ªéA</h3>
                        <div class="quote">‚ÄúKh√¥ng c·∫ßn gi·ªØ l·∫•y m·ªôt m√¨nh.‚Äù</div>
                        <p>Vi·∫øt ƒëi·ªÅu n·∫∑ng l√≤ng v√†o H·ªôp Ghi C·∫£m X√∫c. Stress-ball v√† k·∫πo nh·ªè gi√∫p c∆° th·ªÉ d·ªãu l·∫°i, gi·∫£i t·ªèa stress.</p>
                    </div>
                    <div class="j-card step-3">
                        <div class="step-badge">03</div>
                        <img src="INNERLY/3. On dinh.png" alt="·ªîn ƒê·ªãnh">
                        <h3>·ªîN ƒê·ªäNH</h3>
                        <div class="quote">‚ÄúT√¨m l·∫°i nh·ªãp th·ªü b√¨nh y√™n.‚Äù</div>
                        <p>Nh√¨n l·∫°i c·∫£m x√∫c, s·∫Øp x·∫øp t∆∞ duy qua landing page. Khi ·ªïn ƒë·ªãnh, teen d·ªÖ t·∫≠p trung v√† an to√†n h∆°n.</p>
                    </div>
                    <div class="j-card step-4">
                        <div class="step-badge">04</div>
                        <img src="INNERLY/4. Phat trien.png" alt="Ph√°t Tri·ªÉn">
                        <h3>PH√ÅT TRI·ªÇN</h3>
                        <div class="quote">‚ÄúL·ªõn l√™n c√πng th·∫•u c·∫£m.‚Äù</div>
                        <p>H√¨nh th√†nh th√≥i quen vi·∫øt - gi·∫£i t·ªèa - t·ª± xoa d·ªãu. ƒê√¢y l√† n·ªÅn t·∫£ng ƒë·ªÉ teen t·ª± tin tr∆∞·ªüng th√†nh.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="ai-section-landing">
            <div class="container">
                <div class="ai-header-landing">
                    <h2>AI Th·∫•u C·∫£m Th√¥ng Minh</h2>
                    <p style="color: #94a3b8;">Kh√°m ph√° c·∫£m x√∫c th√¥ng qua c√¥ng ngh·ªá AI th·∫•u hi·ªÉu.</p>
                </div>
                <div class="tool-grid">
                    <!-- Tool 1: T·ª´ ƒëi·ªÉn -->
                    <div class="tool-box">
                        <h3><i class="fas fa-magic"></i> T·ª´ ƒêi·ªÉn C·∫£m X√∫c</h3>
                        <div class="ai-input-wrapper">
                            <input type="text" id="emotionDescLanding" placeholder="M√¥ t·∫£ c·∫£m x√∫c hi·ªán t·∫°i c·ªßa b·∫°n...">
                        </div>
                        <button class="btn-ai-run" onclick="defineEmotionLanding()" id="btnDefineLanding">Ph√¢n t√≠ch c·∫£m x√∫c</button>
                        <div id="resultDefineLanding" class="ai-result-panel">
                            <div class="activity-card">
                                <span class="section-title">ƒê·ªãnh nghƒ©a t√¢m h·ªìn</span>
                                <h4 id="emotionTitleLanding"></h4>
                                <div class="content" id="emotionDefLanding"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Tool 2: G·ª£i √Ω gi·∫£i t·ªèa (Rich Content) -->
                    <div class="tool-box yellow">
                        <h3><i class="fas fa-leaf"></i> G·ª£i √ù Gi·∫£i T·ªèa</h3>
                        <div class="ai-input-wrapper">
                            <select id="moodSelectLanding">
                                <option value="CƒÉng th·∫≥ng h·ªçc t·∫≠p">√Åp l·ª±c h·ªçc t·∫≠p / Stress</option>
                                <option value="C√¥ ƒë∆°n / Tr·ªëng r·ªóng">C√¥ ƒë∆°n / Kh√¥ng ai hi·ªÉu</option>
                                <option value="T·ª©c gi·∫≠n / B·ª±c b·ªôi">T·ª©c gi·∫≠n / Mu·ªën b√πng n·ªï</option>
                                <option value="Lo l·∫Øng v·ªÅ t∆∞∆°ng lai">Lo l·∫Øng / B·∫•t an</option>
                                <option value="M·∫•t ƒë·ªãnh h∆∞·ªõng / Ch√™nh v√™nh">M·∫•t ph∆∞∆°ng h∆∞·ªõng</option>
                                <option value="B·ªã t·ª´ ch·ªëi / Th·∫•t v·ªçng">B·ªã t·ª´ ch·ªëi / Th·∫•t v·ªçng</option>
                            </select>
                        </div>
                        <button class="btn-ai-run" style="background: var(--p-yellow);" onclick="suggestActivityLanding()" id="btnSuggestLanding">Nh·∫≠n l·ªô tr√¨nh gi·∫£i t·ªèa</button>
                        
                        <div id="resultSuggestLanding" class="ai-result-panel" style="border-left-color: var(--p-yellow);">
                            <div class="activity-card yellow">
                                <span class="section-title">L·ªô tr√¨nh xoa d·ªãu d√†nh ri√™ng cho b·∫°n</span>
                                <div class="content" id="activityTextLanding"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section style="padding: 8rem 0; background: var(--slate-50);">
            <div class="container">
                <div style="max-width: 900px; margin: 0 auto; background: white; padding: 4rem; border-radius: 40px; border-left: 10px solid var(--p-yellow);">
                    <h2 style="font-size: 2.2rem; margin-bottom: 2rem; font-weight: 800;">C√¢u Chuy·ªán Innerly</h2>
                    <p style="line-height: 1.8;">INNERLY l√† b·ªô s·∫£n ph·∫©m gi√∫p t·ª•i m√¨nh hi·ªÉu c·∫£m x√∫c c·ªßa ch√≠nh m√¨nh h∆°n, nh·∫•t l√† nh·ªØng l√∫c √°p l·ª±c h·ªçc h√†nh hay r·ªëi b·ªùi kh√¥ng bi·∫øt n√≥i v·ªõi ai. Ch·ªâ t·ª´ nh·ªØng c√¥ng c·ª• r·∫•t nh·ªè, INNERLY gi√∫p x·∫£ b·ªõt c·∫£m x√∫c, b√¨nh tƒ©nh l·∫°i v√† c·∫£m th·∫•y m√¨nh kh√¥ng h·ªÅ c√¥ ƒë∆°n.</p>
                    <p style="margin-top: 1.5rem; line-height: 1.8;">T·ª´ nh·ªØng √Ω t∆∞·ªüng r·∫•t nh·ªè, INNERLY ƒë√£ d·∫ßn h√¨nh th√†nh h·ªá sinh th√°i ho√†n ch·ªânh, ƒë∆∞·ª£c thi·∫øt k·∫ø ri√™ng cho tu·ªïi teen, bao g·ªìm landing page, h·ªôp ghi c·∫£m x√∫c, b·ªô th·∫ª, stress ball.</p>
                    <p style="margin-top: 2rem; font-style: italic; color: var(--p-blue); font-weight: 600;">"Quan tr·ªçng h∆°n c·∫£, INNERLY ƒëang d·∫ßn tr·ªü th√†nh m·ªôt kh√¥ng gian tinh th·∫ßn an to√†n, n∆°i c·∫£m x√∫c c·ªßa tu·ªïi teen ƒë∆∞·ª£c t√¥n tr·ªçng."</p>
                    <img src="INNERLY/Lich su.jpg" alt="L·ªãch s·ª≠" style="width: 100%; border-radius: 20px; margin-top: 2rem;" onerror="this.style.display='none'">
                </div>
            </div>
        </section>

        <footer>
            <div class="container">
                <div class="footer-grid">
                    <div class="f-col">
                        <h2 style="color: white; margin-bottom: 1.5rem;">INNERLY</h2>
                        <p>D·ª± √°n v√¨ s·ª©c kh·ªèe tinh th·∫ßn h·ªçc ƒë∆∞·ªùng h√†ng ƒë·∫ßu t·∫°i Vi·ªát Nam. ƒê·ªìng h√†nh c√πng teen tr√™n h√†nh tr√¨nh tr∆∞·ªüng th√†nh.</p>
                    </div>
                    <div class="footer-item">
                        <h4>ƒê·ªùi s·ªëng h·ªçc ƒë∆∞·ªùng</h4>
                        <img src="INNERLY/Doi song.png" alt="ƒê·ªùi s·ªëng">
                        <p style="font-size: 0.85rem;">Mang th·∫•u c·∫£m v√†o t·ª´ng ti·∫øt h·ªçc v√† gi·ªù ngh·ªâ.</p>
                    </div>
                    <div class="footer-item">
                        <h4>B·ªô s·∫£n ph·∫©m</h4>
                        <img src="INNERLY/San pham.png" alt="S·∫£n ph·∫©m">
                        <p style="font-size: 0.85rem;">Tr·ªçn b·ªô c√¥ng c·ª• c√¢n b·∫±ng t√¢m h·ªìn.</p>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 5rem; border-top: 1px solid rgba(255,255,255,0.05); padding-top: 2rem; font-size: 0.8rem; color: #475569;">
                    ¬© 2024 INNERLY Project. All Rights Reserved.
                </div>
            </div>
        </footer>
    </div>

    <!-- SECTION 2: CHAT PAGE -->
    <div id="chat-page">
        <div class="chat-header">
            <button class="back-btn" onclick="showPage('landing')">
                <i class="fas fa-arrow-left"></i> Quay l·∫°i
            </button>
            <h2><i class="fas fa-robot" style="color: var(--p-yellow);"></i> G√≥c T√¢m S·ª± Innerly</h2>
            <div style="width: 80px;"></div> <!-- Spacer -->
        </div>

        <div class="chat-container">
            <div id="chatBox">
                <div class="ai-bubble bubble">
                    Ch√†o b·∫°n! M√¨nh l√† Innerly ƒë√¢y üå±<br>
                    M√¨nh ·ªü ƒë√¢y ƒë·ªÉ th·∫•u c·∫£m v√† l·∫Øng nghe. H√¥m nay b·∫°n th·∫•y th·∫ø n√†o? ‚ú®
                </div>
            </div>
            <div class="input-area">
                <input type="text" id="chatInput" placeholder="Nh·∫Øn tin cho Innerly..." autocomplete="off">
                <button id="sendBtnChat" onclick="sendMessageChat()"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <script>
        // --- CONFIGURATION & API ---
        const apiKey = ""; 
        const MODEL_NAME = "gemini-2.5-flash-preview-09-2025";
        let chatHistory = [
            {
                role: "user",
                parts: [{ text: "B·∫°n l√† Innerly, AI t√¢m l√Ω h·ªçc ƒë∆∞·ªùng. T√≠nh c√°ch: Nh·∫π nh√†ng, th·∫•u c·∫£m, Gen Z. Nhi·ªám v·ª•: L·∫Øng nghe, an ·ªßi, kh√¥ng ph√°n x√©t. Tr·∫£ l·ªùi b·∫±ng ti·∫øng Vi·ªát." }]
            },
            {
                role: "model",
                parts: [{ text: "Ch√†o b·∫°n! M√¨nh l√† Innerly ‚ú®. M√¨nh lu√¥n ·ªü ƒë√¢y ƒë·ªÉ l·∫Øng nghe v√† ƒë·ªìng h√†nh c√πng b·∫°n üíõ." }]
            }
        ];

        // --- NAVIGATION ---
        function showPage(pageId) {
            document.getElementById('landing-page').classList.remove('active');
            document.getElementById('chat-page').classList.remove('active');
            document.getElementById(pageId + '-page').classList.add('active');
            window.scrollTo(0,0);
        }

        // --- API CORE ---
        async function fetchWithRetry(url, options, maxRetries = 5) {
            for (let i = 0; i < maxRetries; i++) {
                try {
                    const response = await fetch(url, options);
                    if (response.ok) return await response.json();
                    const waitTime = Math.pow(2, i) * 1000;
                    await new Promise(resolve => setTimeout(resolve, waitTime));
                } catch (error) {
                    if (i === maxRetries - 1) throw error;
                    await new Promise(resolve => setTimeout(resolve, Math.pow(2, i) * 1000));
                }
            }
        }

        async function callGemini(prompt, history = [], systemMsg = "B·∫°n l√† Innerly, AI t√¢m l√Ω th·∫•u c·∫£m.") {
            const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/${MODEL_NAME}:generateContent?key=${apiKey}`;
            const payload = {
                contents: [...history, { role: "user", parts: [{ text: prompt }] }],
                systemInstruction: { parts: [{ text: systemMsg }] }
            };

            const data = await fetchWithRetry(API_URL, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(payload)
            });

            return data.candidates?.[0]?.content?.parts?.[0]?.text || "M√¨nh ƒëang b·∫≠n m·ªôt ch√∫t, b·∫°n ch·ªù m√¨nh x√≠u nh√©! üíõ";
        }

        // --- CHAT LOGIC ---
        function addBubble(text, sender) {
            const chatBox = document.getElementById("chatBox");
            const div = document.createElement("div");
            div.className = `bubble ${sender}-bubble`;
            div.innerHTML = sender === 'ai' ? marked.parse(text) : text;
            chatBox.appendChild(div);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        async function sendMessageChat() {
            const input = document.getElementById("chatInput");
            const btn = document.getElementById("sendBtnChat");
            const text = input.value.trim();
            if (!text) return;

            addBubble(text, 'user');
            input.value = "";
            btn.disabled = true;

            try {
                const reply = await callGemini(text, chatHistory);
                addBubble(reply, 'ai');
                chatHistory.push({ role: "user", parts: [{ text: text }] }, { role: "model", parts: [{ text: reply }] });
            } catch (error) {
                addBubble("H·ªá th·ªëng ƒëang qu√° t·∫£i, m√¨nh s·∫Ω quay l·∫°i s·ªõm! üì∂", 'ai');
            } finally {
                btn.disabled = false;
            }
        }

        // --- LANDING PAGE TOOLS ---
        async function defineEmotionLanding() {
            const input = document.getElementById("emotionDescLanding").value.trim();
            const box = document.getElementById("resultDefineLanding");
            const title = document.getElementById("emotionTitleLanding");
            const def = document.getElementById("emotionDefLanding");
            const btn = document.getElementById("btnDefineLanding");

            if (!input) return;
            btn.disabled = true;
            btn.innerText = "ƒêang th·∫•u hi·ªÉu...";

            try {
                const prompt = `ƒê·∫∑t t√™n 1 c·∫£m x√∫c 'th∆°' v√† ƒë·ªãnh nghƒ©a s√¢u s·∫Øc cho tr·∫°ng th√°i: ${input}. ƒê·ªãnh d·∫°ng: T√™n | ƒê·ªãnh nghƒ©a`;
                const reply = await callGemini(prompt);
                const [name, description] = reply.split("|");
                title.innerText = (name || "C·∫£m x√∫c l·∫°").trim();
                def.innerHTML = marked.parse((description || reply).trim());
                box.style.display = "block";
            } catch (e) {
                console.error(e);
            } finally {
                btn.disabled = false;
                btn.innerText = "Ph√¢n t√≠ch c·∫£m x√∫c";
            }
        }

        async function suggestActivityLanding() {
            const mood = document.getElementById("moodSelectLanding").value;
            const box = document.getElementById("resultSuggestLanding");
            const text = document.getElementById("activityTextLanding");
            const btn = document.getElementById("btnSuggestLanding");

            btn.disabled = true;
            btn.innerText = "ƒêang chu·∫©n b·ªã l·ªô tr√¨nh...";

            try {
                // TƒÉng ƒë·ªô chi ti·∫øt cho prompt gi·∫£i t·ªèa
                const prompt = `Ng∆∞·ªùi d√πng ƒëang c·∫£m th·∫•y: ${mood}. H√£y thi·∫øt k·∫ø m·ªôt l·ªô tr√¨nh gi·∫£i t·ªèa c·∫£m x√∫c th·∫•u c·∫£m g·ªìm 3 ph·∫ßn: 
                1. Ho·∫°t ƒë·ªông nhanh (30 gi√¢y): M·ªôt h√†nh ƒë·ªông v·∫≠t l√Ω ƒë·ªÉ c·∫Øt ƒë·ª©t lu·ªìng suy nghƒ© ti√™u c·ª±c.
                2. Xoa d·ªãu t√¢m h·ªìn (5 ph√∫t): M·ªôt b√†i t·∫≠p t∆∞ duy ho·∫∑c s√°ng t·∫°o c·ª• th·ªÉ.
                3. L·ªùi nh·∫Øn t·ª´ Innerly: M·ªôt c√¢u an ·ªßi th·∫•u hi·ªÉu.
                H√£y tr√¨nh b√†y b·∫±ng Markdown, s·ª≠ d·ª•ng c√°c ti√™u ƒë·ªÅ v√† danh s√°ch ƒë·ªÉ r√µ r√†ng.`;
                
                const reply = await callGemini(prompt, [], "B·∫°n l√† chuy√™n gia t√¢m l√Ω h·ªçc ƒë∆∞·ªùng Gen Z th·∫•u c·∫£m.");
                text.innerHTML = marked.parse(reply);
                box.style.display = "block";
            } catch (e) {
                console.error(e);
            } finally {
                btn.disabled = false;
                btn.innerText = "Nh·∫≠n l·ªô tr√¨nh gi·∫£i t·ªèa";
            }
        }

        document.getElementById("chatInput").addEventListener("keypress", (e) => {
            if (e.key === "Enter") sendMessageChat();
        });
    </script>
</body>
</html>
